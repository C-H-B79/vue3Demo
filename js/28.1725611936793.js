"use strict";(self["webpackChunkvue3_demo"]=self["webpackChunkvue3_demo"]||[]).push([[28],{7028:function(e,a,l){l.r(a),l.d(a,{default:function(){return g}});var o=l(641),s=l(953),t=l(5220);const n=e=>((0,o.Qi)("data-v-58ef942a"),e=e(),(0,o.jt)(),e),r={class:"crossTab"},c={class:"tab-list"},i={class:"tab-item"},u={class:"tab-item"},d=n((()=>(0,o.Lk)("br",null,null,-1))),p={class:"tab-item"},v={class:"tab-item"};var k={__name:"index",setup(e){const a=(0,t.rd)(),l=(0,s.KR)(0),n=(0,s.KR)();(0,o.sV)((()=>{localStorage.personalName="张三",localStorage.personalAge="16"}));const k=()=>{let e=a.resolve({path:"crossTab1"}),l=e.href;n.value=window.open(l,"crossTab1")},m=()=>{l.value++;let e=new BroadcastChannel("myChannel");e.postMessage("say hello"+l.value)},b=()=>{localStorage.personalName="李四",localStorage.personalAge="18"},g=()=>{l.value++,n.value.postMessage("say hello"+l.value,"*")},y=()=>{l.value++,document.cookie=`msg=say hello ${l.value}`};return(e,a)=>{const l=(0,o.g2)("a-button");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.bF)(l,{type:"primary",onClick:k},{default:(0,o.k6)((()=>[(0,o.eW)("打开新的标签页")])),_:1}),(0,o.Lk)("div",c,[(0,o.Lk)("div",i,[(0,o.eW)(" BroadCast Channel可以帮我们创建一个用于广播的通信频道。 当所有页面都监听同一频道的消息时，其中某一个页面通过它发送的消息就会被其他所有页面收到。 但是前提是同源页面。 "),(0,o.bF)(l,{type:"primary",onClick:m},{default:(0,o.k6)((()=>[(0,o.eW)("发送消息(say hello)")])),_:1})]),(0,o.Lk)("div",u,[(0,o.eW)(" LocalStorage window.onstorage 监听"),d,(0,o.eW)("使用localStorge存储修改数据，然后使用window.onstorage监听数据变化 "),(0,o.bF)(l,{type:"primary",onClick:b},{default:(0,o.k6)((()=>[(0,o.eW)("改变localStorage")])),_:1})]),(0,o.Lk)("div",p,[(0,o.eW)(" 使用window.open打开新的标签页，然后利用window.postMessage发送消息，在另一个标签页通过window监听message接受消息 "),(0,o.bF)(l,{type:"primary",onClick:g},{default:(0,o.k6)((()=>[(0,o.eW)("发送消息(say hello)")])),_:1})]),(0,o.Lk)("div",v,[(0,o.eW)(" 使用cookie循环去查询(setInterval) "),(0,o.bF)(l,{type:"primary",onClick:y},{default:(0,o.k6)((()=>[(0,o.eW)("设置消息(say hello)")])),_:1})])])])}}},m=l(6262);const b=(0,m.A)(k,[["__scopeId","data-v-58ef942a"]]);var g=b}}]);
//# sourceMappingURL=28.1725611936793.js.map