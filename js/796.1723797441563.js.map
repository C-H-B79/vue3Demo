{"version":3,"file":"js/796.1723797441563.js","mappings":"2RAcA,MAAMA,GAAMC,EAAAA,EAAAA,IAAI,IAChBD,EAAIE,MAAQC,EAAQ,MACpB,MAAMC,GAAUC,EAAAA,EAAAA,IAAS,CACvB,CACEC,IAAK,gGAEP,CACEA,IAAK,gGAEP,CAAEA,IAAK,qEACP,CACEA,IAAK,gGAEP,CACEA,IAAK,gGAEP,CACEA,IAAK,gGAEP,CACEA,IAAK,gGAEP,CACEA,IAAK,+FAEP,CACEA,IAAK,+FAEP,CACEA,IAAK,+FAEP,CACEA,IAAK,gGAEP,CACEA,IAAK,mGAGTC,EAAAA,EAAAA,KAAUC,gBACFC,EAAAA,EAAAA,MACNC,YAAW,KACTC,GAAS,GACT,IAEJ,MAAMA,EAAUA,KACd,IAAIC,EAAMC,SAASC,iBAAiB,aACpC,MAAMC,EAAU,IAAIC,sBAAqB,CAACC,EAASC,KACjDC,QAAQC,IAAI,IAAKH,GACjBA,EAAQI,SAAQ,CAACC,EAAQC,KACvBJ,QAAQC,IAAIE,EAAQC,GAChBD,EAAOE,iBACTF,EAAOG,OAAOC,SAAS,GAAGpB,IAAMgB,EAAOG,OAAOC,SAAS,GAAGC,QAAQC,IAClEb,EAAQc,UAAUP,EAAOG,QAC3B,GACA,IAEJ,IAAK,IAAIF,EAAQ,EAAGA,EAAQX,EAAIkB,OAAQP,IACtCR,EAAQA,QAAQH,EAAIW,GACtB,E,0PClEF,MAAMQ,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://vue3-demo/./src/views/imgLazyload/index.vue","webpack://vue3-demo/./src/views/imgLazyload/index.vue?b560"],"sourcesContent":["<template>\r\n  <div class=\"imgLazyload\">\r\n    <div class=\"img-list\">\r\n      <div class=\"img-item\" v-for=\"(item, index) in imgList\" :key=\"index\">\r\n        <!-- 图片懒加载 vue3-lazyload -->\r\n        <!-- <img v-lazy=\"item.src\" /> -->\r\n        <!-- 图片懒加载 IntersectionObserver -->\r\n        <img :src=\"img\" :data-url=\"item.src\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref, reactive, onMounted, nextTick } from \"vue\";\r\nconst img = ref(\"\");\r\nimg.value = require(\"@/assets/img/headerBack.png\");\r\nconst imgList = reactive([\r\n  {\r\n    src: \"https://img0.baidu.com/it/u=891105205,2558591286&fm=253&fmt=auto&app=138&f=JPEG?w=1140&h=641\",\r\n  },\r\n  {\r\n    src: \"https://img1.baidu.com/it/u=2697531218,1851964626&fm=253&fmt=auto&app=138&f=JPEG?w=758&h=500\",\r\n  },\r\n  { src: \"https://img.zcool.cn/community/01e2345f00a38ba801215aa0aae6cf.jpg\" },\r\n  {\r\n    src: \"https://img1.baidu.com/it/u=3518673092,2032183538&fm=253&fmt=auto&app=138&f=JPEG?w=781&h=500\",\r\n  },\r\n  {\r\n    src: \"https://img2.baidu.com/it/u=2682054464,3068465049&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=313\",\r\n  },\r\n  {\r\n    src: \"https://img0.baidu.com/it/u=3225345106,2528108771&fm=253&fmt=auto&app=138&f=JPEG?w=889&h=500\",\r\n  },\r\n  {\r\n    src: \"https://img0.baidu.com/it/u=1117529929,3665861798&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500\",\r\n  },\r\n  {\r\n    src: \"https://img2.baidu.com/it/u=320070717,1294000015&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=312\",\r\n  },\r\n  {\r\n    src: \"https://img2.baidu.com/it/u=458229905,4078405655&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=281\",\r\n  },\r\n  {\r\n    src: \"https://img2.baidu.com/it/u=3027167150,154674879&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500\",\r\n  },\r\n  {\r\n    src: \"https://img2.baidu.com/it/u=2510963399,2653316008&fm=253&fmt=auto&app=120&f=JPEG?w=526&h=292\",\r\n  },\r\n  {\r\n    src: \"https://img0.baidu.com/it/u=1746179564,1982881161&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=313\",\r\n  },\r\n]);\r\nonMounted(async () => {\r\n  await nextTick();\r\n  setTimeout(() => {\r\n    loadImg();\r\n  });\r\n});\r\nconst loadImg = () => {\r\n  let doc = document.querySelectorAll(\".img-item\");\r\n  const observe = new IntersectionObserver((entries, observer) => {\r\n    console.log(111, entries);\r\n    entries.forEach((entrty, index) => {\r\n      console.log(entrty, index);\r\n      if (entrty.isIntersecting) {\r\n        entrty.target.children[0].src = entrty.target.children[0].dataset.url;\r\n        observe.unobserve(entrty.target);\r\n      }\r\n    });\r\n  });\r\n  for (let index = 0; index < doc.length; index++) {\r\n    observe.observe(doc[index]);\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.imgLazyload {\r\n  .img-list {\r\n    .img-item {\r\n      width: 100%;\r\n      padding: 10px;\r\n      box-sizing: border-box;\r\n      img {\r\n        width: 100%;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=792bf722&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-792bf722\"]])\n\nexport default __exports__"],"names":["img","ref","value","require","imgList","reactive","src","onMounted","async","nextTick","setTimeout","loadImg","doc","document","querySelectorAll","observe","IntersectionObserver","entries","observer","console","log","forEach","entrty","index","isIntersecting","target","children","dataset","url","unobserve","length","__exports__"],"sourceRoot":""}