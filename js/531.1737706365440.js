(self["webpackChunkvue3_demo"]=self["webpackChunkvue3_demo"]||[]).push([[531],{6531:function(t,r,n){"use strict";n.r(r),n.d(r,{default:function(){return p}});n(4114);var e=n(641),o=n(33),u=n(953);if(!a)var a={map:function(t,r){var n={};return r?t.map((function(t,e){return n.index=e,r.call(n,t)})):t.slice()},naturalOrder:function(t,r){return t<r?-1:t>r?1:0},sum:function(t,r){var n={};return t.reduce(r?function(t,e,o){return n.index=o,t+r.call(n,e)}:function(t,r){return t+r},0)},max:function(t,r){return Math.max.apply(null,r?a.map(t,r):t)}};var c=function(){var t=5,r=8-t,n=1e3;function e(r,n,e){return(r<<2*t)+(n<<t)+e}function o(t){var r=[],n=!1;function e(){r.sort(t),n=!0}return{push:function(t){r.push(t),n=!1},peek:function(t){return n||e(),void 0===t&&(t=r.length-1),r[t]},pop:function(){return n||e(),r.pop()},size:function(){return r.length},map:function(t){return r.map(t)},debug:function(){return n||e(),r}}}function u(t,r,n,e,o,u,i){var a=this;a.r1=t,a.r2=r,a.g1=n,a.g2=e,a.b1=o,a.b2=u,a.histo=i}function i(){this.vboxes=new o((function(t,r){return a.naturalOrder(t.vbox.count()*t.vbox.volume(),r.vbox.count()*r.vbox.volume())}))}function c(t,r){if(r.count()){var n=r.r2-r.r1+1,o=r.g2-r.g1+1,u=a.max([n,o,r.b2-r.b1+1]);if(1==r.count())return[r.copy()];var i,c,s,f,l=0,v=[],g=[];if(u==n)for(i=r.r1;i<=r.r2;i++){for(f=0,c=r.g1;c<=r.g2;c++)for(s=r.b1;s<=r.b2;s++)f+=t[e(i,c,s)]||0;v[i]=l+=f}else if(u==o)for(i=r.g1;i<=r.g2;i++){for(f=0,c=r.r1;c<=r.r2;c++)for(s=r.b1;s<=r.b2;s++)f+=t[e(c,i,s)]||0;v[i]=l+=f}else for(i=r.b1;i<=r.b2;i++){for(f=0,c=r.r1;c<=r.r2;c++)for(s=r.g1;s<=r.g2;s++)f+=t[e(c,s,i)]||0;v[i]=l+=f}return v.forEach((function(t,r){g[r]=l-t})),function(t){var n,e,o,u,a,c=t+"1",s=t+"2",f=0;for(i=r[c];i<=r[s];i++)if(v[i]>l/2){for(o=r.copy(),u=r.copy(),a=(n=i-r[c])<=(e=r[s]-i)?Math.min(r[s]-1,~~(i+e/2)):Math.max(r[c],~~(i-1-n/2));!v[a];)a++;for(f=g[a];!f&&v[a-1];)f=g[--a];return o[s]=a,u[c]=o[s]+1,[o,u]}}(u==n?"r":u==o?"g":"b")}}return u.prototype={volume:function(t){var r=this;return r._volume&&!t||(r._volume=(r.r2-r.r1+1)*(r.g2-r.g1+1)*(r.b2-r.b1+1)),r._volume},count:function(t){var r=this,n=r.histo;if(!r._count_set||t){var o,u,i,a=0;for(o=r.r1;o<=r.r2;o++)for(u=r.g1;u<=r.g2;u++)for(i=r.b1;i<=r.b2;i++)a+=n[e(o,u,i)]||0;r._count=a,r._count_set=!0}return r._count},copy:function(){var t=this;return new u(t.r1,t.r2,t.g1,t.g2,t.b1,t.b2,t.histo)},avg:function(r){var n=this,o=n.histo;if(!n._avg||r){var u,i,a,c,s=0,f=1<<8-t,l=0,v=0,g=0;for(i=n.r1;i<=n.r2;i++)for(a=n.g1;a<=n.g2;a++)for(c=n.b1;c<=n.b2;c++)s+=u=o[e(i,a,c)]||0,l+=u*(i+.5)*f,v+=u*(a+.5)*f,g+=u*(c+.5)*f;n._avg=s?[~~(l/s),~~(v/s),~~(g/s)]:[~~(f*(n.r1+n.r2+1)/2),~~(f*(n.g1+n.g2+1)/2),~~(f*(n.b1+n.b2+1)/2)]}return n._avg},contains:function(t){var n=this,e=t[0]>>r;return gval=t[1]>>r,bval=t[2]>>r,e>=n.r1&&e<=n.r2&&gval>=n.g1&&gval<=n.g2&&bval>=n.b1&&bval<=n.b2}},i.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map((function(t){return t.color}))},size:function(){return this.vboxes.size()},map:function(t){for(var r=this.vboxes,n=0;n<r.size();n++)if(r.peek(n).vbox.contains(t))return r.peek(n).color;return this.nearest(t)},nearest:function(t){for(var r,n,e,o=this.vboxes,u=0;u<o.size();u++)((n=Math.sqrt(Math.pow(t[0]-o.peek(u).color[0],2)+Math.pow(t[1]-o.peek(u).color[1],2)+Math.pow(t[2]-o.peek(u).color[2],2)))<r||void 0===r)&&(r=n,e=o.peek(u).color);return e},forcebw:function(){var t=this.vboxes;t.sort((function(t,r){return a.naturalOrder(a.sum(t.color),a.sum(r.color))}));var r=t[0].color;r[0]<5&&r[1]<5&&r[2]<5&&(t[0].color=[0,0,0]);var n=t.length-1,e=t[n].color;e[0]>251&&e[1]>251&&e[2]>251&&(t[n].color=[255,255,255])}},{quantize:function(s,f){if(!s.length||f<2||f>256)return!1;var l=function(n){var o,u=new Array(1<<3*t);return n.forEach((function(t){o=e(t[0]>>r,t[1]>>r,t[2]>>r),u[o]=(u[o]||0)+1})),u}(s);l.forEach((function(){}));var v=function(t,n){var e,o,i,a=1e6,c=0,s=1e6,f=0,l=1e6,v=0;return t.forEach((function(t){(e=t[0]>>r)<a?a=e:e>c&&(c=e),(o=t[1]>>r)<s?s=o:o>f&&(f=o),(i=t[2]>>r)<l?l=i:i>v&&(v=i)})),new u(a,c,s,f,l,v,n)}(s,l),g=new o((function(t,r){return a.naturalOrder(t.count(),r.count())}));function h(t,r){for(var e,o=t.size(),u=0;u<n;){if(o>=r)return;if(u++>n)return;if((e=t.pop()).count()){var i=c(l,e),a=i[0],s=i[1];if(!a)return;t.push(a),s&&(t.push(s),o++)}else t.push(e),u++}}g.push(v),h(g,.75*f);for(var p=new o((function(t,r){return a.naturalOrder(t.count()*t.volume(),r.count()*r.volume())}));g.size();)p.push(g.pop());h(p,f);for(var d=new i;p.size();)d.push(p.pop());return d}}}().quantize,s=function(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=t.naturalWidth,this.height=this.canvas.height=t.naturalHeight,this.context.drawImage(t,0,0,this.width,this.height)};s.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var f=function(){};f.prototype.getColor=function(t,r){return void 0===r&&(r=10),this.getPalette(t,5,r)[0]},f.prototype.getPalette=function(t,r,n){var e=function(t){var r=t.colorCount,n=t.quality;if(void 0!==r&&Number.isInteger(r)){if(1===r)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");r=Math.max(r,2),r=Math.min(r,20)}else r=10;return(void 0===n||!Number.isInteger(n)||n<1)&&(n=10),{colorCount:r,quality:n}}({colorCount:r,quality:n}),o=new s(t),u=function(t,r,n){for(var e,o,u,i,a,c=t,s=[],f=0;f<r;f+=n)o=c[0+(e=4*f)],u=c[e+1],i=c[e+2],(void 0===(a=c[e+3])||a>=125)&&(o>250&&u>250&&i>250||s.push([o,u,i]));return s}(o.getImageData().data,o.width*o.height,e.quality),i=c(u,e.colorCount);return i?i.palette():null},f.prototype.getColorFromUrl=function(t,r,n){var e=this,o=document.createElement("img");o.addEventListener("load",(function(){var u=e.getPalette(o,5,n);r(u[0],t)})),o.src=t},f.prototype.getImageData=function(t,r){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){if(200==this.status){var t=new Uint8Array(this.response);i=t.length;for(var n=new Array(i),e=0;e<t.length;e++)n[e]=String.fromCharCode(t[e]);var o=n.join(""),u=window.btoa(o);r("data:image/png;base64,"+u)}},n.send()},f.prototype.getColorAsync=function(t,r,n){var e=this;this.getImageData(t,(function(t){var o=document.createElement("img");o.addEventListener("load",(function(){var t=e.getPalette(o,5,n);r(t[0],this)})),o.src=t}))};const l={class:"img-box"},v=["src","onMouseenter"];var g={__name:"index",setup(t){const r=(0,u.KR)([]);let i=n(4406),a=i.keys();for(let n=0;n<a.length;n++){const t=i(a[n]);console.log("列表数据",t),r.value.push(t)}const c=(0,u.KR)(-1),s=(0,u.KR)(null),g=new f;function h(t,r){c.value=r;let n=g.getPalette(t.target,3),e=n.map((t=>`rgb(${t[0]},${t[1]},${t[2]})`));s.value.style.setProperty("background",`linear-gradient(to bottom right , ${e[0]},${e[1]},${e[2]})`),console.log(s.value.style)}function p(t){c.value=-1,s.value.style.setProperty("background","#fff")}return(t,n)=>((0,e.uX)(),(0,e.CE)("div",{class:"color-thief",ref_key:"colorThiefBox",ref:s},[(0,e.Lk)("div",l,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(r.value,((t,r)=>((0,e.uX)(),(0,e.CE)("div",{class:"img-item",key:r},[(0,e.Lk)("img",{src:t,alt:"",onMouseenter:t=>h(t,r),onMouseleave:p,style:(0,o.Tr)({opacity:-1===c.value||r===c.value?1:.3,transition:"0.5s"})},null,44,v)])))),128))])],512))}};const h=g;var p=h},4406:function(t,r,n){var e={"./1.png":9439,"./2.png":2580,"./3.png":6477,"./4.png":1618};function o(t){var r=u(t);return n(r)}function u(t){if(!n.o(e,t)){var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}return e[t]}o.keys=function(){return Object.keys(e)},o.resolve=u,t.exports=o,o.id=4406},9439:function(t,r,n){"use strict";t.exports=n.p+"img/1.31e8b396.png"},2580:function(t,r,n){"use strict";t.exports=n.p+"img/2.d83d58d2.png"},6477:function(t,r,n){"use strict";t.exports=n.p+"img/3.3f051928.png"},1618:function(t,r,n){"use strict";t.exports=n.p+"img/4.e23d2c03.png"}}]);
//# sourceMappingURL=531.1737706365440.js.map